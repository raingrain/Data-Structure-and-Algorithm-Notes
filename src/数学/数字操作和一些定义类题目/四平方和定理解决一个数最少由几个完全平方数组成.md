# 四平方和定理解决一个数最少由几个完全平方数组成

## [279. 完全平方数](https://leetcode.cn/problems/perfect-squares/)

> - ***Question***
>   - 给你一个整数 `n` ，返回和为 `n` 的完全平方数的最少数量。
>   - 完全平方数是一个整数，其值等于另一个整数的平方；换句话说，其值等于一个整数自乘的积。例如 `1, 4, 9` 和 `16` 都是完全平方数，而 `3` 和 `11` 不是。
>   - ***tips:***
>     - `1 <= n <= 10^4`

## Java

> - ***数学定理***

```java
class Solution {
    
    // 数学解
    // 1）四平方和定理
    // 2）任何数消掉4的因子，结论不变
    // 规律一：答案个数不超过4
    // 规律二：出现1个的时候，显而易见，检查根号n向下取整后的平方是不是n
    // 规律三：任何数 % 8 == 7，一定是4个
    // 规律四：任何数消去4的因子之后，剩下rest，rest % 8 == 7，一定是4个
    public static int numSquares(int n) {
        while (n % 4 == 0) {
            n /= 4;
        }
        if (n % 8 == 7) {
            return 4;
        }
        // 枚举2个的情况，如果最少为1个，第一次循环就会返回
        for (int a = 0; a * a <= n; ++a) {
            // a * a +  b * b = n
            int b = (int) Math.sqrt(n - a * a);
            if (a * a + b * b == n) {
                // 有一个等于0就是一个
                return (a > 0 && b > 0) ? 2 : 1;
            }
        }
        // 其他都不是那就是3个
        return 3;
    }
    
}   
```
