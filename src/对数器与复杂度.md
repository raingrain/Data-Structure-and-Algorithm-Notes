# 对数器与复杂度

## 对数器

对数器的试用场景：你在网上找到了某个公司的面试题，你想了好久，感觉自己会做，但是你找不到在线测试；你和朋友交流面试题，你想了好久，感觉自己会做，但是你找不到在线测试；你在网上做笔试，但是前几个测试用例都过了，突然一个巨大无比数据量来了，结果你的代码报错了，如此大的数据量根本看不出哪错了，甚至有的根本不提示哪个例子错了，怎么debug？

对数器的实现：

1. 你想要测的方法a（最优解）
2. 实现复杂度不好但是容易实现的方法b（暴力解）
3. 实现一个随机样本产生器（长度也随机、值也随机）
4. 把方法a和方法b跑相同的输入样本，看看得到的结果是否一样
5. 如果有一个随机样本使得比对结果不一致，打印这个出错的样本进行人工干预，改对方法a和方法b
6. 当样本数量很多时比对测试依然正确，可以确定方法a（最优解）已经正确

关键是第5步，找到一个数据量小的错误样本，便于你去带入debug，然后把错误例子带入代码一步一步排查。Print大法、断点技术都可以。对数器的门槛其实是比较高的，因为往往需要在两种不同思路下实现功能相同的两个方法，暴力一个、想象中的最优解是另一个。很多题目都会用到对数器，几乎可以验证任何方法，尤其在验证贪心、观察规律方面很有用。

## 复杂度

算法复杂度旨在计算在输入数据量 `N` 的情况下，算法的时间使用和空间使用情况；体现算法运行使用的时间和空间随数据大小 `N` 而增大的速度。

算法复杂度主要可从时间、空间两个角度评价：

- 时间：假设各操作的运行时间为固定常数，统计算法运行的计算操作的数量，以代表算法运行所需时间；
- 空间：统计在最差情况下，算法运行所需使用的最大空间；

输入数据大小 `N` 指算法处理的输入数据量；根据不同算法，具有不同定义。

### 时间复杂度

根据定义，时间复杂度指输入数据大小为 `N` 时，算法运行所需花费的时间。需要注意：

- 统计的是算法的计算操作数量，而不是运行的绝对时间。计算操作数量和运行绝对时间呈正相关关系，并不相等。算法运行时间受到编程语言、计算机处理器速度、运行环境等多种因素影响。
- 体现的是计算操作随数据大小 `N` 变化时的变化情况。假设算法运行总共需要 `1` 次操作、 `100` 次操作，此两情况的时间复杂度都为常数级 `O(1)` ；需要 `N` 次操作、 `100N` 次操作的时间复杂度都为 `O(N)` 。

根据输入数据的特点，时间复杂度具有最差、平均、最佳三种情况，分别使用 `O, Θ, Ω` 三种符号表示。大 `O` 是最常使用的时间复杂度评价渐进符号。

![image](./images/时间复杂度.png)

### 空间复杂度

空间复杂度涉及的空间类型有：

- 输入空间：存储输入数据所需的空间大小；
- 暂存空间：算法运行过程中，存储所有中间变量和对象等数据所需的空间大小；
- 输出空间：算法运行返回时，存储输出数据所需的空间大小；

通常情况下，空间复杂度指在输入数据大小为 `N` 时，算法运行所使用的暂存空间加输出空间的总体大小。

而根据不同来源，算法使用的内存空间分为三类：

- 指令空间：编译后，程序指令所使用的内存空间。
- 数据空间：算法中的各项变量使用的空间，包括：声明的常量、变量、动态数组、动态对象等使用的内存空间。
- 栈帧空间：程序调用函数是基于栈实现的，函数在调用期间，占用常量大小的栈帧空间，直至返回后释放。算法中，栈帧空间的累计常出现于递归调用。

通常情况下，空间复杂度统计算法在“最差情况”下使用的空间大小，以体现算法运行所需预留的空间量，使用符号 `O` 表示。最差情况有两层含义，分别为最差输入数据、算法运行中的最差运行点。

![image](./images/空间复杂度.png)
