# 最多的比赛场数

## 左老师课堂讲述

> - ***Question***
>   - 给定一个数组 `arr` ，代表每个人的能力值。再给定一个非负数 `k` 。
>   - 如果两个人能力差值正好为 `k` ，那么可以凑在一起比赛，一局比赛只有两个人。
>   - 返回最多可以同时有多少场比赛。

---

## *Java*

> - ***贪心***
>   - 将每个人的能力值升序排序，优先让能力值小的进行比赛，匹配一个能力值，如果没找到较大的能力值的人和他比赛，就不管他。

```java
class Solution {
    
    public int maxPairNum(int[] arr, int k) {
        if (k < 0 || arr == null || arr.length < 2) {
            return 0;
        }
        Arrays.sort(arr);
        int ans = 0;
        // 双指针从0开始
        // 我们让右边去匹配左边
        int left = 0;
        int right = 0;
        // 已经参与比赛的人
        boolean[] usedR = new boolean[arr.length];
        while (left < arr.length && right < arr.length) {
            if (usedR[left]) {
                // 当前左指针指向的人和之前的某个人比赛了
                left++;
            } else if (left == right) {
                // 指向同一个人（没比过赛）时，右指针后移找能力大的人
                right++;
            } else {
                // 当前有两个人且都没比过赛
                int distance = arr[right] - arr[left];
                if (distance == k) {
                    // 能力差符合题意
                    ans++;
                    // 标记右指针指向的，不标左是因为没必要，因为指针不回退
                    usedR[right] = true;
                    // 同时后移
                    right++;
                    left++;
                } else if (distance < k) {
                    // 依据优先满足能力小者的原则
                    // 我们去找能力大的
                    right++;
                } else {
                    // 没法匹配，没有比当前左指针指向的能力值大2的
                    left++;
                }
            }
        }
        return ans;
    }
    
}
```

---

> ***last change: 2023/3/9***

---
