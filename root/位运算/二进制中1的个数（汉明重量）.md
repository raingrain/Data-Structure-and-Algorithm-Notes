# 二进制中1的个数（汉明重量）

## [191. 位1的个数](https://leetcode.cn/problems/number-of-1-bits/)

## [剑指 Offer 15. 二进制中1的个数](https://leetcode.cn/problems/er-jin-zhi-zhong-1de-ge-shu-lcof/)

> - ***Question 1***
>   - 编写一个函数，输入是一个无符号整数（以二进制串的形式），返回其二进制表达式中数字位数为 `1` 的个数（也被称为汉明重量）。
>   - ***tips:***
>     - 输入必须是长度为 `32` 的二进制串

## [338. 比特位计数](https://leetcode.cn/problems/counting-bits/)

## [剑指 Offer II 003. 前 n 个数字二进制中 1 的个数](https://leetcode.cn/problems/w3tCBm/)

> - ***Question***
>   - 给你一个整数 `n` ，对于 `0 <= i <= n` 中的每个 `i` ，计算其二进制表示中 `1` 的个数 ，返回一个长度为 `n + 1` 的数组 `ans` 作为答案。
>   - ***tips:***
>     - `0 <= n <= 10^5`

---

## *Java*

> - ***Question 1: 循环清除最右侧的1***

```java
class Solution {
    
    // you need to treat n as an unsigned value
    public int hammingWeight(int n) {
        int ans = 0;
        int mostRightOne = 0;
        // 清除最右侧的1，清除多少次就有多少1
        while (n != 0) {
            ans++;
            // 获得最右侧的1
            mostRightOne = n & (-n);
            // 删除最右侧的1
            n ^= mostRightOne;
        }
        return ans;
    }
    
}
```

> - ***Question 1: 看不懂***

```java
class Solution {
    
    // you need to treat n as an unsigned value
    public int hammingWeight(int n) {
        n = (n & 0x55555555) + ((n >>> 1) & 0x55555555);
        n = (n & 0x33333333) + ((n >>> 2) & 0x33333333);
        n = (n & 0x0f0f0f0f) + ((n >>> 4) & 0x0f0f0f0f);
        n = (n & 0x00ff00ff) + ((n >>> 8) & 0x00ff00ff);
        n = (n & 0x0000ffff) + ((n >>> 16) & 0x0000ffff);
        return n;
    }
    
}
```

> - ***Question 2: 调用Question 1***

```java
class Solution {
    
    public int[] countBits(int n) {
        int[] ans = new int[n + 1];
        for (int i = 0; i < ans.length; i++) {
            ans[i] = hammingWeight(i);
        }
        return ans;
    }
    
    public int hammingWeight(int n) {
        n = (n & 0x55555555) + ((n >>> 1) & 0x55555555);
        n = (n & 0x33333333) + ((n >>> 2) & 0x33333333);
        n = (n & 0x0f0f0f0f) + ((n >>> 4) & 0x0f0f0f0f);
        n = (n & 0x00ff00ff) + ((n >>> 8) & 0x00ff00ff);
        n = (n & 0x0000ffff) + ((n >>> 16) & 0x0000ffff);
        return n;
    }
    
}
```

---

> ***last change: 2023/4/24***

---
