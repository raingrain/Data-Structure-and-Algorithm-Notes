# 逆波兰（后缀）表达式求值

## [150. 逆波兰表达式求值](https://leetcode.cn/problems/evaluate-reverse-polish-notation/)

## [剑指 Offer II 036. 后缀表达式](https://leetcode.cn/problems/8Zf90G/)

> - ***Question***
>   - 给你一个字符串数组 `tokens` ，表示一个根据逆波兰表示法表示的算术表达式。
>   - 请你计算该表达式，返回一个表示表达式值的整数。
>   - ***tips:***
>     - `1 <= tokens.length <= 10^4`
>     - `tokens[i]` 是一个算符，或是在范围 `[-200, 200]` 内的一个整数
>     - 有效的算符为 `+, -, *, /`
>     - 每个操作数（运算对象）都可以是一个整数或者另一个表达式
>     - 两个整数之间的除法总是向零截断
>     - 表达式中不含除零运算
>     - 输入是一个根据逆波兰表示法表示的算术表达式
>     - 答案及所有中间计算结果可以用 `32` 位整数表示

---

## *Java*

> - ***栈***

```java
class Solution {
    
    public int evalRPN(String[] tokens) {
        ArrayDeque<Integer> stack = new ArrayDeque<>();
        for (String str : tokens) {
            if (str.equals("+") || str.equals("-") || str.equals("*") || str.equals("/")) {
                // 遇到运算符就计算结果，并将计算结果重新入栈
                compute(stack, str);
            } else {
                // 遇到数字就入栈
                stack.push(Integer.valueOf(str));
            }
        }
        return stack.peek();
    }
    
    private void compute(ArrayDeque<Integer> stack, String operation) {
        // 注意运算符的顺序，不然减和除会出错
        int num2 = stack.pop();
        int num1 = stack.pop();
        int ans = 0;
        switch (operation) {
            case "+":
                ans = num1 + num2;
                break;
            case "-":
                ans = num1 - num2;
                break;
            case "*":
                ans = num1 * num2;
                break;
            case "/":
                ans = num1 / num2;
                break;
        }
        // 结果入栈
        stack.push(ans);
    }
    
}
```

---

> ***last change: 2023/4/17***

---
