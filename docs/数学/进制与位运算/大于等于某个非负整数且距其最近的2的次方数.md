# 大于等于某个非负整数且距其最近的2的次方数

## 左老师课堂讲述

> - **Question**
>   - 给你一个非负数整数 `num`，不用循环语句的条件下，返回大于等于 `num` ，且距其最近的 `2` 的次方数。

## Java

> - **位运算**
>   - 先找到当前数字减一后对应的二进制的有效位数全为 `1` 对应的数，把这个数加一消 `0` 即为要找的 `2` 的次方数。

```java
class Solution {
    
    public static int tableSizeFor(int n) {
        // 13 => 1101 => 1100 => 1111 => 1111 + 1 => 10000 => 16
        // 解决自己就是2的次方数的情况
        // 7 => 111 => 110 => 111 => 111 + 1 => 8
        n--;
        // 把这个数减一后的二进制数形式中其所有有效位全部变成1
        // 1011001 => 1111111
        // 右移最多16位是因为int只有32位，假设真的32位全有效，搞到16位时就只剩下16位了
        n |= n >>> 1;
        n |= n >>> 2;
        n |= n >>> 4;
        n |= n >>> 8;
        n |= n >>> 16;
        // 如果n是二的某次方，这时候的n就是实际上n-1的二进制，加1后还是n
        // 如果n不是，假设n的格式为1xxxxx，这时候的结果一定为1000000，那么也做n-1可以考虑上面的情况，不影响最后的结果，哪怕n-1是二的某次方，因为题目要求大于等于最近的，而n-1<n
        return n < 0 ? 1 : n + 1;
    }
    
    public static void main(String[] args) {
        System.out.println(tableSizeFor(120));
    }
    
}
```
