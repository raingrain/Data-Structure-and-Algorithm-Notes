# ST表与倍增算法

## ST表的定义

线段上有 `n` 个点，给定每个点 `i` 往右边跳 `1` 步能最远覆盖的点 `jump[i]` ，已知从任意点出发都能到达最后的点，并且在 `i < j` 时，必有 `jump[i] <= jump[j]` 。如何构建一张表，可以查询从任意点出发：跳 `1` 步、跳 `2` 步、跳 `4` 步、跳 `8` 步……每回最远能到达的点。也就是可以查询，从任意点 `i` 出发，任意跳 `2` 的 `p` 次方步，最远能到达的点。且如何快速计算任意的两点之间，最少跳几步能到达？构建出的表叫做ST表，构建方式为 `st[i][p] = st[[i][p - 1]][p - 1]` ， `p` 代表跳 `2` 的 `p` 次方步，表大小为 `n * logn` 。利用ST表，从 `x` 到 `y` 跳跃的过程中，先从最大步长开始，每次步长减少一半去尝试，最终得到答案。时间复杂度 `O(log n)` 。

## ST表的适用范围

如果 `A` 区间和 `B` 区间可能有重叠的部分，但是并不影响 `A + B` 区间的答案，能通过 `A` 区间答案和 `B` 区间答案就加工出来，那么对应的区间询问，就是一个可重复贡献问题。例如：区间最大值，区间最小值、区间公约数等，但是区间求和就不符合这个要求，再例如：区间按位与、区间按位或，ST表都能高效地解决。

## ST表的优势和劣势

RMQ问题可以用ST表维护，也可以用线段树等结构维护。

ST表的优势：构建过程时间复杂度 `O(n * logn)` ，单次查询时间复杂度 `O(1)` ，代码量较小。

ST表的劣势：需要空间较大，能维护的信息非常有限，不支持修改操作。
